import os
import sqlite3
from datetime import datetime

def get_browser_history():
    # Change the browser history file path according to your browser
    browser_history_file = os.path.expanduser('~') + r"\AppData\Local\Google\Chrome\User Data\Default\History"
    conn = sqlite3.connect(browser_history_file)
    cursor = conn.cursor()
    cursor.execute("SELECT title, url, last_visit_time/1000000 as last_visit_time FROM urls ORDER BY last_visit_time DESC")
    rows = cursor.fetchall()
    return rows

if __name__ == "__main__":
    history = get_browser_history()
    with open('browser_history.txt', 'a') as f:
        f.write(f"{'-'*50}\n{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n{'-'*50}\n")
        for row in history:
            f.write(f"{row[0]} - {row[1]} - {datetime.fromtimestamp(row[2]).strftime('%Y-%m-%d %H:%M:%S')}\n")

            
            #This script connects to the Chrome browser history file and fetches the URLs and their corresponding titles in descending order of their last visit time. The script then writes this information along with the current date and time to a text file named browser_history.txt in the same directory as the script. You can modify the path to the history file and the output file name as per your requirements.



