import socket

def receive_message(sock):
    """
    Receive a message from the socket
    """
    data = sock.recv(1024)
    return data.decode()

def send_message(sock, message):
    """
    Send a message to the socket
    """
    sock.send(message.encode())

# Server code
server_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server_sock.bind(('localhost', 8080))
server_sock.listen(1)
print('Waiting for connection...')
client_sock, addr = server_sock.accept()
print(f'Connected to {addr}')

while True:
    # Receive a message from the client
    message = receive_message(client_sock)
    print(f'Client: {message}')
    
    # Send a response message
    response = input('You: ')
    send_message(client_sock, response)
    
# Close the socket
server_sock.close()
